<app-breadcrumb-ui
  [items]="breadcrumb"
  [title]="'Thanh toán'"
></app-breadcrumb-ui>
<div>
  <div
    class="flex flex-col gap-y-3"
    [formGroup]="form"
  >
    <p-accordion [multiple]="true">
      <p-accordionTab
        header="Địa chỉ giao hàng"
        [selected]="true"
      >
        <div class="flex flex-col gap-y-4 md:grid grid-cols-3 md:gap-3">
          <div class="">
            <label
              for=""
              class=""
            >
              Họ tên người nhận
            </label>
            <input
              type="text"
              pInputText
              formControlName="name"
              placeholder="Nhập họ tên người nhận"
            />
            <ng-container>
              <div
                *ngIf="form?.invalid && this.form.controls['title']?.touched"
                class="error-text"
              >
                <p *ngIf="this.form.controls['title']?.hasError('required')">
                  Vui lòng nhập tên người nhận
                </p>
              </div>
            </ng-container>
          </div>
          <div class="">
            <label for="">Số điện thoại</label>
            <input
              formControlName="phone"
              appNumberOnly
              placeholder="Nhập số điện thoại"
              type="text"
              pInputText
            />
          </div>
          <div>
            <label
              for=""
              class="w-full"
            >
              Email
            </label>
            <input
              type="text"
              pInputText
              formControlName="email"
              placeholder="Nhập email"
            />
          </div>
          <div class="col-span-3">
            <app-address (changeValue)="onChangeAddress($event)"></app-address>
          </div>
          <div class="col-span-3">
            <label
              for=""
              class="w-full"
            >
              Địa chỉ cụ thể
            </label>
            <textarea
              pInputTextarea
              formControlName="specificAddr"
              placeholder="Số nhà, tên đường,..."
            ></textarea>
          </div>
        </div>
      </p-accordionTab>
      <p-accordionTab
        header="Phương thức vận chuyển"
        [selected]="true"
      >
        Content 2
      </p-accordionTab>
      <p-accordionTab
        header="Phương thức thanh toán"
        [selected]="true"
      >
        <div class="grid grid-cols-1 gap-y-4">
          <div
            *ngFor="let item of paymentMethodList; let index = index"
            class="flex items-center"
          >
            <p-radioButton
              name="paymentProvider"
              class="mr-6"
              inputId="{{ item?.value }}"
              [value]="item?.value"
              formControlName="paymentProvider"
            ></p-radioButton>

            <label
              style="margin: 0 !important"
              class="cursor-pointer flex gap-x-5 items-center"
              [for]="item?.value"
            >
              <img
                [src]="item?.img"
                class="w-32 aspect-video object-contain border border-solid border-purple-light p-1 b rounded-lg"
                alt=""
              />
              <span>{{ item?.label }}</span>
            </label>
          </div>
        </div>
      </p-accordionTab>
    </p-accordion>
    <p-divider></p-divider>
  </div>
</div>
<div class="fixed left-0 right-0 bottom-0 h-56 bg-white shadow-#1 p-6 z-50">
  <div class="md:w-md lg:w-lg 2xl:w-2xl mx-auto">
    <div class="flex justify-end">
      <div>
        <table id="total-table">
          <thead>
            <th class="w-44"></th>
            <th class="text-right"></th>
          </thead>
          <tbody>
            <tr>
              <td class="font-medium text-neutral-600">Thành tiền</td>
              <td class="text-right">{{300000 | price}}</td>
            </tr>
            <tr>
              <td class="font-medium text-neutral-600">Phí vận chuyển</td>
              <td class="text-right">{{300000 | price}}</td>
            </tr>
            <tr>
              <td class="font-semibold text-lg text-neutral-700">Tổng tiền</td>
              <td class="text-lg font-bold text-orange">{{300000 | price}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <p-divider></p-divider>
    <div class="flex justify-between">
      <button
        pButton
        class="p-button-danger p-button-rounded p-button-icon"
        (click)="back()"
      >
        <img src="assets/icons/white/ic-arrow-left.svg" class="p-button-icon-left" alt="">
        Quay lại
      </button>
      <button
        (click)="placeOrder()"
        class="p-button-rounded"
        pButton
      >
        Xác nhận thanh toán
      </button>
    </div>
  </div>
</div>
